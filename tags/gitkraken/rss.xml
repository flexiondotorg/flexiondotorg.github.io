<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GitKraken on Wimpy's World</title><link>https://wimpysworld.com/tags/gitkraken/</link><description>Recent content in GitKraken on Wimpy's World</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><managingEditor>martin@wimpress.com (Martin Wimpress)</managingEditor><webMaster>martin@wimpress.com (Martin Wimpress)</webMaster><lastBuildDate>Thu, 05 Jun 2025 13:37:42 +0100</lastBuildDate><atom:link href="https://wimpysworld.com/tags/gitkraken/rss.xml" rel="self" type="application/rss+xml"/><item><title>faffing about with diffs</title><link>https://wimpysworld.com/posts/faff-ollama-conventional-commit-generator/</link><pubDate>Thu, 05 Jun 2025 13:37:42 +0100</pubDate><author>martin@wimpress.com (Martin Wimpress)</author><guid>https://wimpysworld.com/posts/faff-ollama-conventional-commit-generator/</guid><description>&lt;p>Picture this: you&amp;rsquo;ve just spent literal minutes crafting the perfect bit of code, you&amp;rsquo;re chuffed with yourself, and then you open your git client only to stare at that commit message box. ðŸ¤”&lt;/p>
&lt;p>That cursor blinking mockingly while you try to remember what you changed just moments ago. &lt;strong>And you wonder, why do I have to write this? &lt;code>git&lt;/code> already knows what happened!&lt;/strong>&lt;/p>
&lt;p>Now, I&amp;rsquo;m a proper &lt;a href="https://gitkraken.dev/">GitKraken&lt;/a> devotee â€“ have been for years ðŸ¦‘ Love the thing so much I&amp;rsquo;ve disabled all git integrations in VS Code to maintain a clean separation between coding and source control. It&amp;rsquo;s brilliant software and I&amp;rsquo;m happy to pay for it (&lt;a href="https://gitkraken.cello.so/AxtLstzXaif">you should too using my handy-dandy referral link&lt;/a>) ðŸ¤‘&lt;/p>
&lt;h2 id="when-ai-promises-go-sideways">When AI promises go sideways&lt;/h2>
&lt;p>GitKraken recently added AI integration for generating commit messages, complete with customisable prompts. Naturally, I thought &lt;em>&amp;ldquo;Right, this&amp;rsquo;ll sort my commit message faff once and for all!&amp;rdquo;&lt;/em> Two problems emerged rather quickly:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>First, I blew through my AI credit bundle faster than a student with their first overdraft facility. Turns out I commit quite a lot, and those credits don&amp;rsquo;t stretch as far as you&amp;rsquo;d hope.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Second, and this really wound me up, I could not for the life of me get it to generate proper &lt;a href="https://www.conventionalcommits.org/">Conventional Commits&lt;/a>. I know how to craft AI system prompts â€“ I&amp;rsquo;ve been mucking about with LLMs long enough â€“ but GitKraken&amp;rsquo;s AI seemed determined to ignore my carefully crafted instructions about &lt;code>feat:&lt;/code>, &lt;code>fix:&lt;/code>, and &lt;code>chore:&lt;/code> prefixes.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="enter-faff-stage-left">Enter faff, stage left&lt;/h2>
&lt;p>So naturally, being the sort of person who builds entire projects out of mild irritation, I decided to solve this myself. Meet &lt;a href="https://github.com/wimpysworld/faff">&lt;code>faff&lt;/code>&lt;/a> â€“ yet another bloody AI commit generator, because apparently the Internet wasn&amp;rsquo;t drowning in enough of them already â˜”&lt;/p>
&lt;p>&lt;code>faff&lt;/code> does one thing: it looks at your staged git diff, sends it to a local &lt;a href="https://ollama.com/">Ollama&lt;/a> LLM, and spits out a conventional commit message. No cloud APIs, no credit bundles, no sending your &lt;code>TODO: delete this abomination&lt;/code> code comments to feed the vibe-coding dealers.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>faff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Perfect conventional commits, every time. Well, most of the time. It&amp;rsquo;s AI, not magic ðŸª„&lt;/p>
&lt;div align="center">&lt;img alt="faff demo" src="faff.gif" width="1024" />&lt;/div>
&lt;h2 id="the-plot-twist-that-made-me-question-everything">The plot twist that made me question everything&lt;/h2>
&lt;p>Here&amp;rsquo;s where this story takes a turn that&amp;rsquo;ll make you laugh at my expense. After building &lt;code>faff&lt;/code>, documenting it, and feeling rather pleased with myself, I discovered something that made me want to bang my head against my desk repeatedly.&lt;/p>
&lt;p>&lt;strong>You can hook GitKraken&amp;rsquo;s AI up to Ollama.&lt;/strong>&lt;/p>
&lt;p>And naturally, &lt;a href="https://github.com/wimpysworld/faff/blob/main/faff.sh#L8">my carefully crafted system prompt from &lt;code>faff&lt;/code>&lt;/a>, when used in GitKraken AI via Ollama with the same &lt;a href="https://ollama.com/library/qwen2.5-coder">qwen2.5-coder&lt;/a> models, works exactly like &lt;code>faff&lt;/code> does. ðŸ¤¦â€â™‚ï¸&lt;/p>
&lt;p>So technically, I could have solved my original problem without building an new tool. But where&amp;rsquo;s the fun in that?&lt;/p>
&lt;h2 id="why-faff-still-matters-and-its-not-just-stubbornness">Why faff still matters (and it&amp;rsquo;s not just stubbornness)&lt;/h2>
&lt;p>Despite this rather embarrassing revelation, &lt;code>faff&lt;/code> still has its place:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Privacy by default&lt;/strong>: Everything stays local, until you push it to GitHub&lt;/li>
&lt;li>&lt;strong>No vendor lock-in&lt;/strong>: Works with any Ollama-supported model. Want to try the latest coding model? Just change the environment variable.&lt;/li>
&lt;li>&lt;strong>Shell-first design&lt;/strong>: Perfect for those of us who live in terminals, or an excuse for me creating another shonky shell script&lt;/li>
&lt;li>&lt;strong>Learning project&lt;/strong>: Born from genuine frustration and a desire to poke around the &lt;a href="https://github.com/ollama/ollama/blob/main/docs/api.md">Ollama API&lt;/a>. Sometimes the best tools come from scratching your own itch.&lt;/li>
&lt;/ul>
&lt;p>Plus, let&amp;rsquo;s be honest â€“ there&amp;rsquo;s something deeply satisfying about having a tool that does exactly what you want, how you want it, without any &lt;em>faff!&lt;/em> ðŸ¥&lt;/p>
&lt;h2 id="give-it-a-whirl">Give it a whirl&lt;/h2>
&lt;p>If you&amp;rsquo;re tired of crafting commit messages that either say &amp;ldquo;Updated stuff&amp;rdquo; (&lt;em>again!&lt;/em>) or read like Victorian novels, &lt;a href="https://github.com/wimpysworld/faff">&lt;code>faff&lt;/code> might be worth a look&lt;/a>. It&amp;rsquo;s a shell script, it works with local AI, and it follows conventional commits standards without the existential crisis.&lt;/p>
&lt;p>And if you decide you&amp;rsquo;d rather stick with GitKraken&amp;rsquo;s AI (which, after my discoveries, is perfectly reasonable), at least &lt;a href="https://gitkraken.cello.so/AxtLstzXaif">grab it through my referral link&lt;/a> so I can pretend this whole adventure was planned from the start. ï¸ðŸ—ºï¸&lt;/p>
&lt;p>Because sometimes the best projects are the ones born from pure spite, accidentally becoming useful along the way. That&amp;rsquo;s half the fun of building things, isn&amp;rsquo;t it?&lt;/p>
&lt;p>&lt;strong>Drop the faff, dodge the judgment, get back to coding. ðŸ¦™&lt;/strong>&lt;/p></description><summary>Another bloody AI commit generator, born from pure spite but stays local</summary></item></channel></rss>