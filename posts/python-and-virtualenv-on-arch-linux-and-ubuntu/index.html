<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Blog, Podcasts, Live Streams and Videos about Linux and Open Source with a focus on Ubuntu, Debian and NixOS."><meta name=author content="Martin Wimpress"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wimpress.com/104"><meta name=twitter:title content="Python and virtualenv on Arch Linux and Ubuntu"><meta name=twitter:description content="Installing Python and virtualenv on Arch Linux and Ubuntu"><meta name=twitter:site content="@m_wimpress"><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=preload href=/css/style.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/style.css type=text/css media=print onload='this.media="all"'><link rel=preload href=/css/fonts.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/fonts.css type=text/css media=print onload='this.media="all"'><link rel=preload href=/css/syntax.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/syntax.css type=text/css media=print onload='this.media="all"'><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css as=font onload='this.rel="stylesheet"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css media=print onload='this.media="all"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="><noscript><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href=/css/fonts.css type=text/css><link rel=stylesheet href=/css/syntax.css type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="></noscript><title>Python and virtualenv on Arch Linux and Ubuntu</title></head><body><nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav><div class=container><a class=navbar-brand href=/>Martin Wimpress</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu
<em class="fas fa-bars"></em></button><div class="collapse navbar-collapse" id=navbarResponsive><ul class="navbar-nav ms-auto"><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpress.com/posts/>Posts</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpress.com/projects/>Projects</a></li></ul></div></div></nav><header class="masthead2 text-white text-center"></header><div class="container pb-5"><div class=row><section class="page-section portfolio col-12 col-lg-10"><img class="img-fluid rounded mb-5" src=https://wimpress.com/posts/python-and-virtualenv-on-arch-linux-and-ubuntu/hero.webp width=1080 height=580 alt="Installing Python and virtualenv on Arch Linux and Ubuntu" loading=lazy><h2 class="page-section-heading text-center text-uppercase text-secondary mt-5">Python and virtualenv on Arch Linux and Ubuntu</h2><div class="divider-custom m-0"><div class=divider-custom-line></div><div class=divider-custom-icon><em class="fas fa-file-text"></em></div><div class=divider-custom-line></div></div><div class="row mb-3"><div class="col text-center text-nowrap"><a class=h4 href=/tags/arch-linux/ title="Arch Linux"><span class="badge bg-primary p-2 m-1">Arch Linux</span></a>
<a class=h4 href=/tags/python/ title=Python><span class="badge bg-primary p-2 m-1">Python</span></a>
<a class=h4 href=/tags/ubuntu/ title=Ubuntu><span class="badge bg-primary p-2 m-1">Ubuntu</span></a>
<a class=h4 href=/tags/virtualenv/ title=virtualenv><span class="badge bg-primary p-2 m-1">virtualenv</span></a></div></div><div class="row justify-content-left"><div class=col-12><div class="alert alert-warning" role=alert><h4 class=alert-heading>Old post detected! <em class="fa-solid fa-person-cane"></em></h4><p>This post was last updated on 2012-12-11 which was about 3662 days ago! The information presented here may be out of date and inaccurate.</p><hr><small class=mb-0>Please read this page keeping its age in mind.</small></div></div><p>We use <a href=http://www.python.org>Python</a> for pretty much all our software
development at <a href=http://www.flightdataservices.com/>work</a>. We also use
<a href=http://www.virtualenv.org>virtualenv</a> and
<a href=http://www.doughellmann.com/projects/virtualenvwrapper/>virtualenvwrapper</a>
extensively, both for development <em>and</em> deployment.</p><h2 id=why-is-virtualenv-so-great>Why is virtualenv so great?</h2><p>It just is. Read the <a href=http://www.virtualenv.org/en/latest/>virtualenv documentation</a>.
If you&rsquo;re a Python developer you need <code>virtualenv</code> in your life. You also need
<code>virtualenvwrapper</code> too.</p><blockquote><p>virtualenvwrapper is a set of extensions to Ian Bickingâ€™s virtualenv tool
for creating isolated Python development environments.</p></blockquote><h2 id=installing-python-and-virtualenvwrapper>Installing Python and virtualenvwrapper</h2><p>Outlined below is how I install Python and <code>virtualenvwrapper</code>. We have not
yet made the jump to Python 3 at work, hence the references to Python 2.6 and
2.7. Some of us develop on Arch Linux, but all deployments are on Ubuntu.</p><h3 id=arch-linux>Arch Linux</h3><p>As Arch Linux is a rolling release we can simply install everything via
<code>pacman</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pacman -Syy
</span></span><span style=display:flex><span>sudo pacman -S --needed --noconfirm python-pip python-setuptools python-virtualenv
</span></span><span style=display:flex><span>sudo pacman -S --needed --noconfirm python2-pip python2-setuptools python2-virtualenv python-virtualenvwrapper<span style=color:#87ceeb>&#34;
</span></span></span></code></pre></div><p>Simple.</p><h3 id=ubuntu>Ubuntu</h3><p>The following was done on Ubuntu Lucid 10.04 LTS.</p><p>Add some essential PPAs.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-add-repository ppa:bzr/ppa
</span></span><span style=display:flex><span>sudo apt-add-repository ppa:git-core/ppa
</span></span><span style=display:flex><span>sudo apt-add-repository ppa:fkrull/deadsnakes
</span></span></code></pre></div><p>Update the system and install Python 2.6 and 2.7.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install libpython2.6 python2.6 python2.6-dev python2.6-minimal
</span></span><span style=display:flex><span>sudo apt-get install libpython2.7 python2.7 python2.7-dev python2.7-minimal
</span></span></code></pre></div><p>Remove any <code>apt</code> installed Python packages that we are about to repalce. The
versions of these packages in the Ubuntu repos and PPAs are too old.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get purge python-setuptools python-virtualenv python-pip python-profiler
</span></span></code></pre></div><p>Install <code>distribute</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -O http://python-distribute.org/distribute_setup.py
</span></span><span style=display:flex><span>sudo python2.6 distribute_setup.py
</span></span><span style=display:flex><span>sudo python2.7 distribute_setup.py
</span></span></code></pre></div><p>Install <code>pip</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -O https://raw.github.com/pypa/pip/master/contrib/get-pip.py
</span></span><span style=display:flex><span>sudo python2.6 get-pip.py
</span></span><span style=display:flex><span>sudo python2.7 get-pip.py
</span></span></code></pre></div><p>Use <code>pip</code> to install <code>virtualenv</code> and <code>virtualenv</code> wrapper.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pip-2.6 install virtualenv --upgrade
</span></span><span style=display:flex><span>sudo pip-2.7 install virtualenv --upgrade
</span></span><span style=display:flex><span>sudo pip install virtualenvwrapper
</span></span></code></pre></div><p>Fairly simple.</p><h3 id=the-snakepit>The Snakepit</h3><p>This step is common to Arch Linux and Ubuntu. Create a <em>&ldquo;Snakepit&rdquo;</em> directory for
storing all the virtualenvs.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/Snakepit
</span></span></code></pre></div><p>Add the following your <code>~/.bashrc</code> to enable <code>virtualenvwrapper</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export <span style=color:#eedd82>WORKON_HOME</span>=<span style=color:#87ceeb>${</span><span style=color:#eedd82>HOME</span><span style=color:#87ceeb>}</span>/Snakepit
</span></span><span style=display:flex><span><span style=color:red>if</span> [ -f /usr/local/bin/virtualenvwrapper.sh ]; <span style=color:red>then</span>
</span></span><span style=display:flex><span>    source /usr/local/bin/virtualenvwrapper.sh
</span></span><span style=display:flex><span><span style=color:red>elif</span> [ -f /usr/bin/virtualenvwrapper.sh ]; <span style=color:red>then</span>
</span></span><span style=display:flex><span>    source /usr/bin/virtualenvwrapper.sh
</span></span><span style=display:flex><span><span style=color:red>fi</span>
</span></span></code></pre></div><h2 id=creating-a-virtualenv>Creating a virtualenv</h2><p>Open a new shell to ensure that the <code>virtualenvwrapper</code> configuration is
active.</p><p>The following will create a new virtualenv called <code>Nikola5</code> based on Python
2.7 and will not give access to the global <code>site-packages</code> directory.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkvirtualenv -p python2.7 --no-site-packages ~/Snakepit/Nikola5
</span></span></code></pre></div><p><code>mkvirtualenv_help</code> shows a full list of arguments, the <code>-r</code> switch can install
all the packages listed in a <code>pip</code> requirements file into the newly created
virtualenv. Very useful.</p><h2 id=working-on-a-virtualenv>Working on a virtualenv</h2><p>To workon, or activate, an existing virtualenv do the following.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>workon Nikola5
</span></span></code></pre></div><p>You can switch to another virtualenv at any time, just use <code>workon envname</code>.
Your shell prompt will change while a virtualenv is being worked on to indicate
which virtualenv is currently active.</p><p>While working on a virtualenv you can <code>pip</code> install what you need or manually
install any Python libraries safe in the knowledge you will not adversely
damage any other virtualenvs or the global packages in the process. Very useful
for developing a new branch which may have different library requirements than
the master/head.</p><p>When you are finished working in a virtualenv you can deactivate it by simply
executing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>deactivate
</span></span></code></pre></div><p>That just about sums up my notes.</p><div class="row mt-5 mb-3"><div class="col-6 text-left"><a class="btn btn-primary btn-lg col-12" href=https://wimpress.com/posts/the-nano-text-editor/><span class=h2><em class="fa fa-chevron-circle-left" aria-hidden=true></em></span></a></div><div class="col-6 text-right"><a class="btn btn-primary btn-lg col-12" href=https://wimpress.com/posts/ssh-brute-force-defense/><span class=h2><em class="fa fa-chevron-circle-right" aria-hidden=true></em></span></a></div></div></div></section><section class="page-section portfolio col-12 col-lg-2 my-3"><div id=sidebar class=fixed><div class="widget pt-3"><h4 class="mb-3 widget-title">Latest Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpress.com/posts/diy-snes-classic/><h5>DIY SNES Classic</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/raspberry-pi-3-nextcloud-box-running-on-ubuntu-core/><h5>Raspberry Pi 3 Nextcloud Box running on Ubuntu Core</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/hp-microserver-n54l-power-saving-and-performance-tuning-using-debian/><h5>HP Microserver N54L power saving and performance tuning using Debian</h5></a></li></ul></div><div class="widget pt-3"><h4 class="mb-3 widget-title">Related Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpress.com/posts/installing-nikola-on-ubuntu/><h5>Installing Nikola on Ubuntu</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/installing-nikola-on-arch-linux/><h5>Installing Nikola on Arch Linux</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/ssh-brute-force-defense/><h5>SSH brute force defense</h5></a></li></ul></div></div></section></div></div><footer class="footer text-center"><div class=container><div class=row><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-4">Social</h3><a class="btn btn-outline-light btn-social mx-1" href=https://wimpysworld.io/discord aria-label=discord target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-discord"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://fosstodon.org/@wimpy aria-label=mastodon target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-mastodon"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitter.com/m_wimpress aria-label=twitter target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitter"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linkedin.com/in/martinwimpress aria-label=linkedin target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-linkedin"></em></a></div><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-4">Code</h3><a class="btn btn-outline-light btn-social mx-1" href=https://github.com/flexiondotorg aria-label=github target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-github"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://launchpad.net/~flexiondotorg aria-label=ubuntu target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-ubuntu"></em></a></div><div class=col-lg-4><h3 class="text-uppercase mb-4">Content</h3><a class="btn btn-outline-light btn-social mx-1" href=https://instagram.com/WimpysWorld aria-label=instagram target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-instagram"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitch.tv/WimpysWorld aria-label=twitch target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitch"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://youtube.com/WimpysWorld aria-label=youtube target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-youtube"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linuxdowntime.com aria-label=podcast target=_blank rel="noopener noreferrer"><em class="fas fa-fw fa-podcast"></em></a></div></div></div></footer><div class="copyright py-4 text-center text-white"><div class=container><small>Copyright &copy; Martin Wimpress 2022</small></div></div><script defer src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js type=text/javascript integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script defer src=/js/scripts.js type=text/javascript></script></body></html>