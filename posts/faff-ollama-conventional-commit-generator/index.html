<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Blog, Podcasts, Live Streams and Videos about Linux and Open Source with a focus on Ubuntu, Debian and NixOS."><meta name=author content="Martin Wimpress"><meta name=keywords content="Git,AI,Ollama,GitKraken,Conventional Commits"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wimpysworld.com/hero.webp"><meta name=twitter:title content="faffing about with diffs"><meta name=twitter:description content="Another bloody AI commit generator, born from pure spite but stays local"><meta name=twitter:site content="@m_wimpress"><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=stylesheet href=/css/style.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=/css/fonts.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=/css/syntax.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css type=text/css media=print onload='this.media="all"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="><noscript><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href=/css/fonts.css type=text/css><link rel=stylesheet href=/css/syntax.css type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css type=text/css crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="></noscript><link rel=canonical href=https://wimpysworld.com/posts/faff-ollama-conventional-commit-generator/><title>faffing about with diffs</title></head><body><nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav><div class=container><a class=navbar-brand href=/>Wimpy's World</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu<em class="fas fa-bars"></em></button><div class="collapse navbar-collapse" id=navbarResponsive><ul class="navbar-nav ms-auto"><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/about/>About</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/live/>Live</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/posts/>Posts</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/projects/>Projects</a></li></ul><form class="form-inline mx-4 my-0" action=/search method=get><div class=input-group><input class=form-control type=search name=q id=search-query placeholder=Search>
<button class="btn btn-primary btn-sm" id=searchButton type=submit><span class="fas fa-search"></span></button></div></form></div></div></nav><header class="masthead2 text-white text-center"></header><div class="container pb-1"><div class=row><section class="page-section portfolio col-12 col-lg-10"><img class="card-img-top img-fluid rounded mt-4" src=https://wimpysworld.com/posts/faff-ollama-conventional-commit-generator/hero.webp width=1280 height=720 alt="Another bloody AI commit generator, born from pure spite but stays local" loading=lazy><div class="page-section-heading text-center text-secondary mt-3"><b>Another bloody AI commit generator, born from pure spite but stays local</b></div><div class="divider-custom m-1"><div class=divider-custom-line></div><div class="divider-custom-icon text-secondary"><em class="fas fa-file-text"></em></div><div class=divider-custom-line></div></div><div class="row mb-2"><div class="col text-center text-nowrap"><a class=h4 href=/tags/ai/ title=AI><span class="badge bg-primary p-2 m-1">AI</span></a>
<a class=h4 href=/tags/conventional-commits/ title="Conventional Commits"><span class="badge bg-primary p-2 m-1">Conventional Commits</span></a>
<a class=h4 href=/tags/git/ title=Git><span class="badge bg-primary p-2 m-1">Git</span></a>
<a class=h4 href=/tags/gitkraken/ title=GitKraken><span class="badge bg-primary p-2 m-1">GitKraken</span></a>
<a class=h4 href=/tags/ollama/ title=Ollama><span class="badge bg-primary p-2 m-1">Ollama</span></a></div></div><div class="row justify-content-left"><p>Picture this: you&rsquo;ve just spent literal minutes crafting the perfect bit of code, you&rsquo;re chuffed with yourself, and then you open your git client only to stare at that commit message box. ü§î</p><p>That cursor blinking mockingly while you try to remember what you changed just moments ago. <strong>And you wonder, why do I have to write this? <code>git</code> already knows what happened!</strong></p><p>Now, I&rsquo;m a proper <a href=https://gitkraken.dev/>GitKraken</a> devotee ‚Äì have been for years ü¶ë Love the thing so much I&rsquo;ve disabled all git integrations in VS Code to maintain a clean separation between coding and source control. It&rsquo;s brilliant software and I&rsquo;m happy to pay for it (<a href=https://gitkraken.cello.so/AxtLstzXaif>you should too using my handy-dandy referral link</a>) ü§ë</p><h2 id=when-ai-promises-go-sideways>When AI promises go sideways</h2><p>GitKraken recently added AI integration for generating commit messages, complete with customisable prompts. Naturally, I thought <em>&ldquo;Right, this&rsquo;ll sort my commit message faff once and for all!&rdquo;</em> Two problems emerged rather quickly:</p><ul><li><p>First, I blew through my AI credit bundle faster than a student with their first overdraft facility. Turns out I commit quite a lot, and those credits don&rsquo;t stretch as far as you&rsquo;d hope.</p></li><li><p>Second, and this really wound me up, I could not for the life of me get it to generate proper <a href=https://www.conventionalcommits.org/>Conventional Commits</a>. I know how to craft AI system prompts ‚Äì I&rsquo;ve been mucking about with LLMs long enough ‚Äì but GitKraken&rsquo;s AI seemed determined to ignore my carefully crafted instructions about <code>feat:</code>, <code>fix:</code>, and <code>chore:</code> prefixes.</p></li></ul><h2 id=enter-faff-stage-left>Enter faff, stage left</h2><p>So naturally, being the sort of person who builds entire projects out of mild irritation, I decided to solve this myself. Meet <a href=https://github.com/wimpysworld/faff><code>faff</code></a> ‚Äì yet another bloody AI commit generator, because apparently the Internet wasn&rsquo;t drowning in enough of them already ‚òî</p><p><code>faff</code> does one thing: it looks at your staged git diff, sends it to a local <a href=https://ollama.com/>Ollama</a> LLM, and spits out a conventional commit message. No cloud APIs, no credit bundles, no sending your <code>TODO: delete this abomination</code> code comments to feed the vibe-coding dealers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>faff
</span></span></code></pre></div><p>Perfect conventional commits, every time. Well, most of the time. It&rsquo;s AI, not magic ü™Ñ</p><div align=center><img alt="faff demo" src=faff.gif width=1024></div><h2 id=the-plot-twist-that-made-me-question-everything>The plot twist that made me question everything</h2><p>Here&rsquo;s where this story takes a turn that&rsquo;ll make you laugh at my expense. After building <code>faff</code>, documenting it, and feeling rather pleased with myself, I discovered something that made me want to bang my head against my desk repeatedly.</p><p><strong>You can hook GitKraken&rsquo;s AI up to Ollama.</strong></p><p>And naturally, <a href=https://github.com/wimpysworld/faff/blob/main/faff.sh#L8>my carefully crafted system prompt from <code>faff</code></a>, when used in GitKraken AI via Ollama with the same <a href=https://ollama.com/library/qwen2.5-coder>qwen2.5-coder</a> models, works exactly like <code>faff</code> does. ü§¶‚Äç‚ôÇÔ∏è</p><p>So technically, I could have solved my original problem without building an new tool. But where&rsquo;s the fun in that?</p><h2 id=why-faff-still-matters-and-its-not-just-stubbornness>Why faff still matters (and it&rsquo;s not just stubbornness)</h2><p>Despite this rather embarrassing revelation, <code>faff</code> still has its place:</p><ul><li><strong>Privacy by default</strong>: Everything stays local, until you push it to GitHub</li><li><strong>No vendor lock-in</strong>: Works with any Ollama-supported model. Want to try the latest coding model? Just change the environment variable.</li><li><strong>Shell-first design</strong>: Perfect for those of us who live in terminals, or an excuse for me creating another shonky shell script</li><li><strong>Learning project</strong>: Born from genuine frustration and a desire to poke around the <a href=https://github.com/ollama/ollama/blob/main/docs/api.md>Ollama API</a>. Sometimes the best tools come from scratching your own itch.</li></ul><p>Plus, let&rsquo;s be honest ‚Äì there&rsquo;s something deeply satisfying about having a tool that does exactly what you want, how you want it, without any <em>faff!</em> ü•Å</p><h2 id=give-it-a-whirl>Give it a whirl</h2><p>If you&rsquo;re tired of crafting commit messages that either say &ldquo;Updated stuff&rdquo; (<em>again!</em>) or read like Victorian novels, <a href=https://github.com/wimpysworld/faff><code>faff</code> might be worth a look</a>. It&rsquo;s a shell script, it works with local AI, and it follows conventional commits standards without the existential crisis.</p><p>And if you decide you&rsquo;d rather stick with GitKraken&rsquo;s AI (which, after my discoveries, is perfectly reasonable), at least <a href=https://gitkraken.cello.so/AxtLstzXaif>grab it through my referral link</a> so I can pretend this whole adventure was planned from the start. Ô∏èüó∫Ô∏è</p><p>Because sometimes the best projects are the ones born from pure spite, accidentally becoming useful along the way. That&rsquo;s half the fun of building things, isn&rsquo;t it?</p><p><strong>Drop the faff, dodge the judgment, get back to coding. ü¶ô</strong></p><div class="col-5 mt-2 mb-2 text-left"><a class="btn btn-light btn-lg col-12 disabled" href=#><span class=h2><em class="fa fa-chevron-circle-left" aria-hidden=true></em></span></a></div><div class="col-2 text-center"></div><div class="col-5 mt-2 mb-2 text-right"><a class="btn btn-primary btn-lg col-12" href=https://wimpysworld.com/posts/nothing-but-nix-github-actions/ aria-label="Nothing but Nix"><span class=h2><em class="fa fa-chevron-circle-right"></em></span></a></div><script src=https://giscus.app/client.js data-repo=flexiondotorg/flexiondotorg.github.io data-repo-id=R_kgDOIoJw9g data-category="Blog Comments" data-category-id=DIC_kwDOIoJw9s4CTG_3 data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang crossorigin=anonymous async></script></div></section><section class="page-section portfolio col-12 col-lg-2 my-3"><div id=sidebar class=fixed><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Latest Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/nothing-but-nix-github-actions/><h5>Nothing but Nix</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/fuzzel-hyprpicker/><h5>Fuzzel Colour Picker</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/install-zerotier-on-steamdeck/><h5>Install ZeroTier on Steam Deck</h5></a></li></ul></div><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Related Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/github-analytics/><h5>GitHub Analytics</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/migrating-bazaar-to-git/><h5>Migrating Bazaar to Git</h5></a></li></ul></div></div></section></div></div><footer class="footer text-center"><div class=container><div class=row><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Social</h3><a class="btn btn-outline-light btn-social mx-1" href=https://wimpysworld.io/discord aria-label=Discord target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-discord"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://fosstodon.org/@wimpy aria-label=Mastodon target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-mastodon"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://bsky.app/profile/wimpys.world aria-label=Bluesky target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-bluesky"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linkedin.com/in/martinwimpress aria-label=LinkedIn target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-linkedin"></em></a></div><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Code</h3><a class="btn btn-outline-light btn-social mx-1" href=https://github.com/flexiondotorg aria-label=GitHub target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-github"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://launchpad.net/~flexiondotorg aria-label=Launchpad target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-ubuntu"></em></a></div><div class=col-lg-4><h3 class="text-uppercase mb-2">Content</h3><a class="btn btn-outline-light btn-social mx-1" href=https://twitch.tv/WimpysWorld aria-label=Twitch target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitch"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://youtube.com/WimpysWorld aria-label=YouTube target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-youtube"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linuxmatters.sh aria-label=Podcast target=_blank rel="noopener noreferrer"><em class="fas fa-fw fa-podcast"></em></a></div></div></div></footer><div class="copyright py-4 text-center text-white"><div class=container><small>Copyright &copy; Martin Wimpress 2025</small></div></div><script defer src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script defer src=/js/scripts.js></script></body></html>