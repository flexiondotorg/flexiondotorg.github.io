<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Blog, Podcasts, Live Streams and Videos about Linux and Open Source with a focus on Ubuntu, Debian and NixOS."><meta name=author content="Martin Wimpress"><meta name=keywords content="Cloudprint,Debian,MFC-7360N,Android,Chrome,CUPS,Apache,Printing"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wimpress.com/104"><meta name=twitter:title content="Headless cloudprint server on Debian for MFC-7360N"><meta name=twitter:description content="Create a headless Cloudprint server on Debian for MFC-7360N"><meta name=twitter:site content="@m_wimpress"><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=preload href=/css/style.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/style.css type=text/css media=print onload='this.media="all"'><link rel=preload href=/css/fonts.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/fonts.css type=text/css media=print onload='this.media="all"'><link rel=preload href=/css/syntax.css type=text/css as=style onload='this.rel="stylesheet"'><link rel=stylesheet href=/css/syntax.css type=text/css media=print onload='this.media="all"'><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css as=font onload='this.rel="stylesheet"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css media=print onload='this.media="all"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="><noscript><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href=/css/fonts.css type=text/css><link rel=stylesheet href=/css/syntax.css type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="></noscript><link rel=canonical href=https://wimpress.com/posts/headless-cloudprint-server-on-debian-for-mfc-7360n/><title>Headless cloudprint server on Debian for MFC-7360N</title></head><body><nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav><div class=container><a class=navbar-brand href=/>Martin Wimpress</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu<em class="fas fa-bars"></em></button><div class="collapse navbar-collapse" id=navbarResponsive><ul class="navbar-nav ms-auto"><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpress.com/posts/>Posts</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpress.com/projects/>Projects</a></li></ul></div></div></nav><header class="masthead2 text-white text-center"></header><div class="container pb-1"><div class=row><section class="page-section portfolio col-12 col-lg-10"><img class="card-img-top img-fluid rounded mt-4" src=https://wimpress.com/posts/headless-cloudprint-server-on-debian-for-mfc-7360n/hero.webp width=1280 height=720 alt="Create a headless Cloudprint server on Debian for MFC-7360N" loading=lazy><h2 class="page-section-heading text-center text-uppercase text-secondary mt-3">Headless cloudprint server on Debian for MFC-7360N</h2><div class="divider-custom m-1"><div class=divider-custom-line></div><div class="divider-custom-icon text-secondary"><em class="fas fa-file-text"></em></div><div class=divider-custom-line></div></div><div class="row mb-2"><div class="col text-center text-nowrap"><a class=h4 href=/tags/android/ title=Android><span class="badge bg-primary p-2 m-1">Android</span></a>
<a class=h4 href=/tags/apache/ title=Apache><span class="badge bg-primary p-2 m-1">Apache</span></a>
<a class=h4 href=/tags/chrome/ title=Chrome><span class="badge bg-primary p-2 m-1">Chrome</span></a>
<a class=h4 href=/tags/cloudprint/ title=Cloudprint><span class="badge bg-primary p-2 m-1">Cloudprint</span></a>
<a class=h4 href=/tags/cups/ title=CUPS><span class="badge bg-primary p-2 m-1">CUPS</span></a>
<a class=h4 href=/tags/debian/ title=Debian><span class="badge bg-primary p-2 m-1">Debian</span></a>
<a class=h4 href=/tags/mfc-7360n/ title=MFC-7360N><span class="badge bg-primary p-2 m-1">MFC-7360N</span></a>
<a class=h4 href=/tags/printing/ title=Printing><span class="badge bg-primary p-2 m-1">Printing</span></a></div></div><div class="row justify-content-left"><div class=col-12><div class="alert alert-warning" role=alert><h4 class=alert-heading>Old post detected! <em class="fa-solid fa-book-skull"></em></h4><p>This post was last updated on July 5, 2014! The information presented here may be out of date and inaccurate.</p><hr><em class=mb-0>Please read this page but do keep its age in mind.</em></div></div><p>I have a Brother MFC-7360N printer at home and there is also one at work.
I wanted to to get <a href=http://www.google.co.uk/cloudprint/learn/>Cloudprint</a>
working with Android devices rather than use the Android app Brother
provide, which is great when it works but deeply frustrating (for my wife)
when it doesn&rsquo;t.</p><p>What I describe below is how to Cloudprint enable &ldquo;Classic printers&rdquo; using
Debian Wheezy.</p><h1 id=install-cups>Install CUPS</h1><p>Install CUPS and the Cloudprint requirements.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install cups python-cups python-daemon python-pkg-resources
</span></span></code></pre></div><h1 id=install-the-mfc-7360n-drivers>Install the MFC-7360N Drivers</h1><p>I used the URL below to access the <code>.deb</code> files required.</p><ul><li><a href="http://support.brother.com/g/b/downloadlist.aspx?c=gb&lang=en&prod=mfc7360n_all&os=128">http://support.brother.com/g/b/downloadlist.aspx?c=gb&lang=en&prod=mfc7360n_all&os=128</a></li></ul><p>If you&rsquo;re running a 64-bit Debian, then install <code>ia32-libs</code> first.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install ia32-libs
</span></span></code></pre></div><p>Download and install the MFC-7360N drivers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget -c http://download.brother.com/welcome/dlf006237/mfc7360nlpr-2.1.0-1.i386.deb
</span></span><span style=display:flex><span>wget -c http://download.brother.com/welcome/dlf006239/cupswrapperMFC7360N-2.0.4-2.i386.deb
</span></span><span style=display:flex><span>sudo dpkg -i --force-all mfc7360nlpr-2.1.0-1.i386.deb
</span></span><span style=display:flex><span>sudo dpkg -i --force-all cupswrapperMFC7360N-2.0.4-2.i386.deb
</span></span></code></pre></div><h2 id=configure-cups>Configure CUPS</h2><p>Edit the CUPS configuration file commonly located in <code>/etc/cups/cupsd.conf</code>
and make the section that looks like this&mldr;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># Only listen for connections from the local machine.
</span></span><span style=display:flex><span>Listen localhost:631
</span></span><span style=display:flex><span>Listen /var/run/cups/cups.sock
</span></span></code></pre></div><p>&mldr;is changed to look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># Listen on all interfaces
</span></span><span style=display:flex><span>Port 631
</span></span><span style=display:flex><span>Listen /var/run/cups/cups.sock
</span></span></code></pre></div><p>Modify the Apache specific directives to allow connections from everywhere as
well. Find the follow section in <code>/etc/cups/cupsd.conf</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apacheconf data-lang=apacheconf><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/</span>&gt;
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the server...</span>
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the admin pages...</span>
</span></span><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/admin</span>&gt;
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the configuration files...</span>
</span></span><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/admin/conf</span>&gt;
</span></span><span style=display:flex><span>  AuthType Default
</span></span><span style=display:flex><span>  Require <span style=color:red>user</span> @SYSTEM
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span></code></pre></div><p>Add <code>Allow All</code> after each <code>Order allow,deny</code> so it looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apacheconf data-lang=apacheconf><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/</span>&gt;
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the server...</span>
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>  Allow <span style=color:red>All</span>
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the admin pages...</span>
</span></span><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/admin</span>&gt;
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>  Allow <span style=color:red>All</span>
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0># Restrict access to the configuration files...</span>
</span></span><span style=display:flex><span>&lt;Location <span style=color:#87ceeb>/admin/conf</span>&gt;
</span></span><span style=display:flex><span>  AuthType Default
</span></span><span style=display:flex><span>  Require <span style=color:red>user</span> @SYSTEM
</span></span><span style=display:flex><span>  Order allow,deny
</span></span><span style=display:flex><span>  Allow <span style=color:red>All</span>
</span></span><span style=display:flex><span>&lt;/Location&gt;
</span></span></code></pre></div><h2 id=add-the-mfc-7360n-to-cups>Add the MFC-7360N to CUPS</h2><p>If your MFC-7360N is connected to your server via USB then you should be
all set. Login to the CUPS administration interface on <a href=http://yourserver:631>http://yourserver:631</a>
and modify the MFC7360N printer (if one was created when the drivers where installed)
then <strong>make sure you can print a test page via CUPS before proceeding.</strong></p><h1 id=install-cloudprint-and-cloudprint-service>Install Cloudprint and Cloudprint service</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget -c http://davesteele.github.io/cloudprint-service/deb/cloudprint_0.11-5.1_all.deb
</span></span><span style=display:flex><span>wget -c http://davesteele.github.io/cloudprint-service/deb/cloudprint-service_0.11-5.1_all.deb
</span></span><span style=display:flex><span>sudo dpkg -i cloudprint_0.11-5.1_all.deb
</span></span><span style=display:flex><span>sudo dpkg -i cloudprint-service_0.11-5.1_all.deb
</span></span></code></pre></div><h2 id=authenticate>Authenticate</h2><p>Google accounts with 2 step verification enabled need to use an
application-specific password.</p><ul><li><a href="http://www.google.com/support/accounts/bin/static.py?page=guide.cs&guide=1056283&topic=1056286">http://www.google.com/support/accounts/bin/static.py?page=guide.cs&guide=1056283&topic=1056286</a></li></ul><p>Authenticate <code>cloudprintd</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo service cloudprintd login
</span></span></code></pre></div><p>You should see something like this.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Accounts with 2 factor authentication require an application-specific password
</span></span><span style=display:flex><span>Google username: you@example.org
</span></span><span style=display:flex><span>Password:
</span></span><span style=display:flex><span>Added Printer MFC7360N
</span></span></code></pre></div><p>Start the Cloudprint daemon.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo service cloudprintd start
</span></span></code></pre></div><p>If everything is working correctly you should see your printer the
following page:</p><ul><li><a href=https://www.google.com/cloudprint#printers>https://www.google.com/cloudprint#printers</a></li></ul><h1 id=printing-from-mobile-devices>Printing from mobile devices</h1><h2 id=android>Android</h2><p>Add the <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.cloudprint">Google Cloud Print</a>
app to Android devices and you&rsquo;ll be able to configure your printer
preferences and print from Android..</p><h2 id=chrome-and-chromium>Chrome and Chromium</h2><p>When printing from within Google Chrome and Chromium you can now select
Cloudprint as the destination and choose your printer.</p><h4 id=references>References</h4><ul><li><a href=https://github.com/armooo/cloudprint>https://github.com/armooo/cloudprint</a></li><li><a href=http://davesteele.github.io/cloudprint-service/>http://davesteele.github.io/cloudprint-service/</a></li><li><a href=https://github.com/davesteele/cloudprint-service>https://github.com/davesteele/cloudprint-service</a></li><li><a href=http://injustfiveminutes.com/2013/11/07/remote-access-to-cups-admin-inter/>http://injustfiveminutes.com/2013/11/07/remote-access-to-cups-admin-inter/</a></li><li><a href="http://ubuntuforums.org/showthread.php?t=1794179">http://ubuntuforums.org/showthread.php?t=1794179</a></li><li><a href="https://support.google.com/a/answer/2906017?hl=en">https://support.google.com/a/answer/2906017?hl=en</a></li></ul><div class="col-5 mt-2 mb-2 text-left"><a class="btn btn-primary btn-lg col-12" href=https://wimpress.com/posts/subsonic-on-debian/><span class=h2><em class="fa fa-chevron-circle-left" aria="subSonic on Debian"></em></span></a></div><div class="col-2 text-center"></div><div class="col-5 mt-2 mb-2 text-right"><a class="btn btn-primary btn-lg col-12" href=https://wimpress.com/posts/humax-foxsat-hdr-custom-firmware/><span class=h2><em class="fa fa-chevron-circle-right" aria="Humax Foxsat HDR Custom Firmware"></em></span></a></div><script src=https://giscus.app/client.js data-repo=flexiondotorg/flexiondotorg.github.io data-repo-id=R_kgDOIoJw9g data-category="Blog Comments" data-category-id=DIC_kwDOIoJw9s4CTG_3 data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang crossorigin=anonymous async></script></div></section><section class="page-section portfolio col-12 col-lg-2 my-3"><div id=sidebar class=fixed><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Latest Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpress.com/posts/creating-production-ready-containers-advanced-techniques/><h5>Creating Production-Ready Containers - Advanced Techniques</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/creating-production-ready-containers-the-basics/><h5>Creating Production-Ready Containers - The Basics</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/diy-snes-classic/><h5>DIY SNES Classic</h5></a></li></ul></div><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Related Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpress.com/posts/subsonic-on-debian/><h5>subSonic on Debian</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/headless-debian-6.0-torrent-server/><h5>Headless Debian 6.0 Torrent Server</h5></a></li><li class="d-flex my-1"><a href=https://wimpress.com/posts/ravencore-0.1.4-on-debian/><h5>RavenCore 0.1.4 on Debian</h5></a></li></ul></div></div></section></div></div><footer class="footer text-center"><div class=container><div class=row><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Social</h3><a class="btn btn-outline-light btn-social mx-1" href=https://wimpysworld.io/discord aria-label=discord target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-discord"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://fosstodon.org/@wimpy aria-label=mastodon target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-mastodon"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitter.com/m_wimpress aria-label=twitter target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitter"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linkedin.com/in/martinwimpress aria-label=linkedin target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-linkedin"></em></a></div><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Code</h3><a class="btn btn-outline-light btn-social mx-1" href=https://github.com/flexiondotorg aria-label=github target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-github"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://launchpad.net/~flexiondotorg aria-label=ubuntu target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-ubuntu"></em></a></div><div class=col-lg-4><h3 class="text-uppercase mb-2">Content</h3><a class="btn btn-outline-light btn-social mx-1" href=https://instagram.com/WimpysWorld aria-label=instagram target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-instagram"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitch.tv/WimpysWorld aria-label=twitch target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitch"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://youtube.com/WimpysWorld aria-label=youtube target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-youtube"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linuxdowntime.com aria-label=podcast target=_blank rel="noopener noreferrer"><em class="fas fa-fw fa-podcast"></em></a></div></div></div></footer><div class="copyright py-4 text-center text-white"><div class=container><small>Copyright &copy; Martin Wimpress 2022</small></div></div><script defer src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js type=text/javascript integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script defer src=/js/scripts.js type=text/javascript></script></body></html>