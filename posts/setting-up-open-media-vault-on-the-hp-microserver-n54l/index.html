<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Blog, Podcasts, Live Streams and Videos about Linux and Open Source with a focus on Ubuntu, Debian and NixOS."><meta name=author content="Martin Wimpress"><meta name=keywords content="Debian,Open Media Vault,HP MicroServer,N54L,BIOS,Transmission,Plex,Hacking"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wimpysworld.com/104"><meta name=twitter:title content="Setting up Open Media Vault on the HP MicroServer N54L"><meta name=twitter:description content="Open Media Vault on the HP ProLiant MicroServer G7 N54L"><meta name=twitter:site content="@m_wimpress"><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=stylesheet href=/css/style.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=/css/fonts.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=/css/syntax.css type=text/css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css media=print onload='this.media="all"' crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="><noscript><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href=/css/fonts.css type=text/css><link rel=stylesheet href=/css/syntax.css type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css type=text/css crossorigin=anonymous referrerpolicy=no-referrer integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="></noscript><link rel=canonical href=https://wimpysworld.com/posts/setting-up-open-media-vault-on-the-hp-microserver-n54l/><title>Setting up Open Media Vault on the HP MicroServer N54L</title></head><body><nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav><div class=container><a class=navbar-brand href=/>Wimpy's World</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu<em class="fas fa-bars"></em></button><div class="collapse navbar-collapse" id=navbarResponsive><ul class="navbar-nav ms-auto"><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/about/>About</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/live/>Live</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/posts/>Posts</a></li><li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://wimpysworld.com/projects/>Projects</a></li></ul><form class="form-inline mx-4 my-0" action=/search method=get><div class=input-group><input class=form-control type=search name=q id=search-query placeholder=Search>
<button class="btn btn-primary btn-sm" id=searchButton type=submit><span class="fas fa-search"></span></button></div></form></div></div></nav><header class="masthead2 text-white text-center"></header><div class="container pb-1"><div class=row><section class="page-section portfolio col-12 col-lg-10"><img class="card-img-top img-fluid rounded mt-4" src=https://wimpysworld.com/posts/setting-up-open-media-vault-on-the-hp-microserver-n54l/hero.webp width=1280 height=720 alt="Open Media Vault on the HP ProLiant MicroServer G7 N54L" loading=lazy><div class="page-section-heading text-center text-secondary mt-3"><b>Open Media Vault on the HP ProLiant MicroServer G7 N54L</b></div><div class="divider-custom m-1"><div class=divider-custom-line></div><div class="divider-custom-icon text-secondary"><em class="fas fa-file-text"></em></div><div class=divider-custom-line></div></div><div class="row mb-2"><div class="col text-center text-nowrap"><a class=h4 href=/tags/bios/ title=BIOS><span class="badge bg-primary p-2 m-1">BIOS</span></a>
<a class=h4 href=/tags/debian/ title=Debian><span class="badge bg-primary p-2 m-1">Debian</span></a>
<a class=h4 href=/tags/hacking/ title=Hacking><span class="badge bg-primary p-2 m-1">Hacking</span></a>
<a class=h4 href=/tags/hp-microserver/ title="HP MicroServer"><span class="badge bg-primary p-2 m-1">HP MicroServer</span></a>
<a class=h4 href=/tags/n54l/ title=N54L><span class="badge bg-primary p-2 m-1">N54L</span></a>
<a class=h4 href=/tags/open-media-vault/ title="Open Media Vault"><span class="badge bg-primary p-2 m-1">Open Media Vault</span></a>
<a class=h4 href=/tags/plex/ title=Plex><span class="badge bg-primary p-2 m-1">Plex</span></a>
<a class=h4 href=/tags/transmission/ title=Transmission><span class="badge bg-primary p-2 m-1">Transmission</span></a></div></div><div class="row justify-content-left"><div class=col-12><div class="alert alert-warning" role=alert><h4 class=alert-heading>Old post detected! <em class="fa-solid fa-book-skull"></em></h4><p>This post is roughly 9 years old; originally published on August 7, 2013! The information presented here may be out of date and inaccurate.</p><hr><em class=mb-0>Please read this page but do keep its age in mind.</em></div></div><p>I&rsquo;ve installed <a href=http://www.openmediavault.org/>Open Media Vault</a> (OMV)
on my new <a href="http://www8.hp.com/uk/en/products/proliant-servers/product-detail.html?oid=5336624">HP ProLiant MicroServer G7 N54L</a>
to replace my aging, and lackluster, <a href=http://www.readynas.com>ReadyNAS</a> NV.</p><p>OpenMediaVault (OMV) is a network attached storage (NAS) solution based on
<a href=http://www.debian.org>Debian</a> Linux. At the time of writing OMV 0.5.x is
based on Debian 6.0 (Squeeze).</p><p>This blog post is not going to cover the extremely simple OMV installation
procedure, it assumes OMV 0.5.x is already installed. This post explains
how to upgrade the kernel, install some addtional plugins and some hackery
to update <a href=http://www.transmissionbt.com/>Transmission</a>.</p><p>This blog post is basically the essential notes I need to recreate my server setup.</p><h1 id=n54l-custom-bios>N54L Custom BIOS</h1><p>I&rsquo;ve installed one of the custom BIOS mods for the N54L.</p><ul><li><a href=http://www.avforums.com/forums/networking-nas/1521657-hp-n36l-n40l-n54l-microserver-updated-ahci-bios-support.html>HP N36L/N40L/N54L Microserver Updated AHCI BIOS Support</a></li></ul><p>I selected the BIOS mod above because the guy who created was an HP engineer and
this BIOS mod only enables additional features that the N54L can actually support.
Using this BIOS mod I&rsquo;ve been able to:</p><ul><li>Enable AHCI for the Optical Disk Drive (ODD) port.</li><li>Enable AHCI and port multiplier for the the e-SATA port.</li><li>Make all drives hot-pluggable.</li></ul><p>The 250GB hard drive that came with N54L is now relocated in the optical drive day
and being used as the OS drive, leaving all 4 bays for data.</p><p>As some point in the future I may want to hook up a 4 bay e-SATA enclosure and this
BIOS mod makes that possible.</p><h1 id=open-media-vault>Open Media Vault</h1><p>Once Open Media Vault is installed, I do the following.</p><h2 id=enable-ssh>Enable SSH</h2><p>OMV actually has a really good WebUI that can be used to accomplish most
update/upgrade tasks but I can&rsquo;t help myself. I must have shell access. From
the OMV WebUI:</p><ul><li><code>Services -> SSH</code><ul><li>Put a tick in <code>Enable</code> and click the <code>OK</code> button.</li></ul></li></ul><h2 id=shell-tools>Shell Tools</h2><p>Things crave when at the a shell.</p><p>Login to your OMV server as <code>root</code> using SSH and then do the following.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get install less lsb-release rsync screen tree
</span></span></code></pre></div><h1 id=omv-plugins>OMV Plugins</h1><p>OMV has a number of built-in plugins and a <a href=http://omv-plugins.org>third party repository of plugins</a>.</p><h2 id=built-in-plugins>Built-in Plugins</h2><p>Update the built-in plugins.</p><ul><li><code>System -> Plugins</code><ul><li>Click the <code>Check</code> icon.</li></ul></li></ul><h3 id=logical-volume-manager>Logical Volume Manager</h3><p>I use LVM. There, I said it. Enable the LVM2 plugin as follows from the OMV WebUI.</p><ul><li><code>System -> Plugins</code><ul><li>Highlight the <code>openmediavault-lvm2</code> plugin.</li><li>Click the <code>Install</code> icon and then <code>Yes</code>.</li><li>When the install is <code>Done ...</code>, click <code>Close</code>.</li></ul></li></ul><h2 id=3rd-party-omv-plugins>3rd Party OMV-Plugins</h2><p>Follow the instructions on the following page to enable the OMV-Extras plugin repository.</p><ul><li><a href="http://omv-extras.org/simple/index.php?id=how-to-install-omv-extras-plugin">http://omv-extras.org/simple/index.php?id=how-to-install-omv-extras-plugin</a></li></ul><h3 id=backports-32-kernel>Backports 3.2 Kernel</h3><p>I updated the Kernel to 3.2 because it better supports the N54L hardware, in
particular the embedded graphics controller. The Linux 3.2 kernel can be
installed via OMV-Extras.</p><ul><li><code>System -> OMV-Extras.org -> Install Backports 3.2 kernel</code></li></ul><h3 id=plex-media-server>Plex Media Server</h3><p>Plex Media Server is available as a plugin once the OMV-Extras plugin
repository is enabled. Plex is managed via the OMV WebUI.</p><ul><li><code>Services -> Plex</code></li></ul><h3 id=transmission>Transmission</h3><p>Transmission is available as a plugin once the OMV-Extras plugin repository is
enabled. Transmission is managed via the OMV WebUI.</p><ul><li><code>Services -> BitTorrent -> Server</code>.</li></ul><p>It&rsquo;s all very straight forward. I use the following block list.</p><ul><li><a href="http://list.iblocklist.com/?list=bt_level1&fileformat=p2p&archiveformat=gz">http://list.iblocklist.com/?list=bt_level1&fileformat=p2p&archiveformat=gz</a></li></ul><p>That pretty much covers the stuff I won&rsquo;t remember in the future. I&rsquo;m considering
adding LXC and Dropbox in the coming that will require some manual steps.</p><h4 id=references>References</h4><ul><li><a href=http://thekentishman.wordpress.com/guides-2/open-media-vault-set-up/>http://thekentishman.wordpress.com/guides-2/open-media-vault-set-up/</a></li><li><a href=http://myhpmicroserver.com/wiki/Main_Page>http://myhpmicroserver.com/wiki/Main_Page</a></li></ul><div class="col-5 mt-2 mb-2 text-left"><a class="btn btn-primary btn-lg col-12" href=https://wimpysworld.com/posts/sketchup-make-on-arch-linux/ aria-label="SketchUp Make on Arch Linux"><span class=h2><em class="fa fa-chevron-circle-left"></em></span></a></div><div class="col-2 text-center"></div><div class="col-5 mt-2 mb-2 text-right"><a class="btn btn-primary btn-lg col-12" href=https://wimpysworld.com/posts/basic-debian-setup-for-squeeze-and-wheezy/ aria-label="Basic Debian Setup for Squeeze and Wheezy"><span class=h2><em class="fa fa-chevron-circle-right"></em></span></a></div><script src=https://giscus.app/client.js data-repo=flexiondotorg/flexiondotorg.github.io data-repo-id=R_kgDOIoJw9g data-category="Blog Comments" data-category-id=DIC_kwDOIoJw9s4CTG_3 data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang crossorigin=anonymous async></script></div></section><section class="page-section portfolio col-12 col-lg-2 my-3"><div id=sidebar class=fixed><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Latest Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/steambox-vs-steamdeck/><h5>Steam Box vs Steam Deck</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/flash-stadia-controller-bluetooth-firmware-on-linux/><h5>Flash Stadia Controller Bluetooth Firmware on Linux</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/><h5>Why I chose the ThinkPad Z13 Gen1 as my Linux laptop</h5></a></li></ul></div><div class="widget pt-2"><h4 class="mb-1 widget-title text-secondary">Related Posts</h4><ul class=list-unstyled><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/plex-media-server-on-open-media-vault/><h5>Plex Media Server on Open Media Vault</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/hp-microserver-n54l-power-saving-and-performance-tuning-using-debian/><h5>HP Microserver N54L power saving and performance tuning using Debian</h5></a></li><li class="d-flex my-1"><a href=https://wimpysworld.com/posts/integrating-dropbox-photo-syncing-with-open-media-vault-and-plex/><h5>Integrating Dropbox photo syncing with Open Media Vault and Plex</h5></a></li></ul></div></div></section></div></div><footer class="footer text-center"><div class=container><div class=row><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Social</h3><a class="btn btn-outline-light btn-social mx-1" href=https://wimpysworld.io/discord aria-label=Discord target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-discord"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://fosstodon.org/@wimpy aria-label=Mastodon target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-mastodon"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitter.com/m_wimpress aria-label=Twitter target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitter"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linkedin.com/in/martinwimpress aria-label=LinkedIn target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-linkedin"></em></a></div><div class="col-lg-4 mb-5 mb-lg-0"><h3 class="text-uppercase mb-2">Code</h3><a class="btn btn-outline-light btn-social mx-1" href=https://github.com/flexiondotorg aria-label=GitHub target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-github"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://launchpad.net/~flexiondotorg aria-label=Launchpad target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-ubuntu"></em></a></div><div class=col-lg-4><h3 class="text-uppercase mb-2">Content</h3><a class="btn btn-outline-light btn-social mx-1" href=https://instagram.com/WimpysWorld aria-label=Instagram target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-instagram"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://twitch.tv/WimpysWorld aria-label=Twitch target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-twitch"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://youtube.com/WimpysWorld aria-label=YouTube target=_blank rel="noopener noreferrer"><em class="fab fa-fw fa-youtube"></em></a>
<a class="btn btn-outline-light btn-social mx-1" href=https://linuxmatters.sh aria-label=Podcast target=_blank rel="noopener noreferrer"><em class="fas fa-fw fa-podcast"></em></a></div></div></div></footer><div class="copyright py-4 text-center text-white"><div class=container><small>Copyright &copy; Martin Wimpress 2023</small></div></div><script defer src=https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script defer src=/js/scripts.js></script></body></html>